packagingDefinition:
  type: PrebuiltDockerImage
  dockerImage: ghcr.io/hasura/ndc-calcite:v1.0.5
supportedEnvironmentVariables:
  - name: MODEL_FILE
    description: The calcite connection model file path
    defaultValue: /etc/connector/models/model.json
commands:
  update: docker run --entrypoint ndc-calcite-cli -e HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH -v ${HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH}:/etc/connector -v ${HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH}:/app/output:rw ghcr.io/hasura/ndc-calcite:v1.0.5 update
dockerComposeWatch:
  - path: ./
    target: /app/output
    action: sync+restart
