packagingDefinition:
  type: PrebuiltDockerImage
  dockerImage: ghcr.io/hasura/ndc-calcite:latest
supportedEnvironmentVariables:
  - name: CASSANDRA_HOST
    description: Cassandra Host
  - name: CASSANDRA_KEYSPACE
    description: Cassandra KeySpace
  - name: CASSANDRA_USERNAME
    description: Cassandra username
  - name: CASSANDRA_PASSWORD
    description: Cassandra password
  - name: CASSANDRA_PORT
    description: Cassandra port
    defaultValue: 9042
  - name: CASSANDRA_DC
    description: Cassandra Data Center
  - name: CASSANDRA_SSL_CA_PATH
    description: Cassandra self-signed root cert path
    defaultValue: /etc/connector/root.crt
  - name: CASSANDRA_SSL
    description: Cassandra SSL
    defaultValue: false
commands:
  update: docker run --entrypoint ndc-calcite-cli -e HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH -v ${HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH}:/etc/connector -v ${HASURA_PLUGIN_CONNECTOR_CONTEXT_PATH}:/app/output:rw ghcr.io/hasura/ndc-calcite:latest update
dockerComposeWatch:
  - path: ./
    target: /app/output
    action: sync+restart
